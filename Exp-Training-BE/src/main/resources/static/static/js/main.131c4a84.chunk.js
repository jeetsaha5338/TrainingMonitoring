(this["webpackJsonpexp-eraining-fe"]=this["webpackJsonpexp-eraining-fe"]||[]).push([[0],{18:function(e,t,a){e.exports=a(45)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),i=(a(23),a(2)),s=a(3),l=a(4),d=a(5),u=(a(24),a(17)),p=(a(25),a(26),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onPageLengthChange=function(e){n.props.onPageLengthChange(n.pageLengthInput.value),n.setState({currentPage:1})},n.onPrevPage=function(e){1!==n.state.currentPage&&n.onGotoPage(n.state.currentPage-1)},n.onNextPage=function(e){n.state.currentPage>n.pages-1||n.onGotoPage(n.state.currentPage+1)},n.onGotoPage=function(e){e!==n.state.currentPage&&(n.currentPageInput&&(n.currentPageInput.value=e),n.setState({currentPage:e}),n.props.onGotoPage(e))},n._getPaginationButtons=function(e){var t="btn btn-light";return n.state.currentPage===e&&(t="btn btn-secondary"),r.a.createElement("button",{key:"btn-".concat(e),id:"btn-".concat(e),className:t,onClick:function(t){n.onGotoPage(e)}},e)},n.onCurrentPageChange=function(e){n.currentPageInput.value>=n.pages&&(n.currentPageInput.value=n.pages),n.setState({currentPage:n.currentPageInput.value}),n.props.onGotoPage(n.currentPageInput.value)},n.state={currentPage:e.currentPage||1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.totalRecords,o=t.pageLength,c=this.state.currentPage,i=Math.ceil(a/o);this.pages=i;var s=r.a.createElement(n.Fragment,{key:"f-page-selector"},r.a.createElement("span",{key:"page-selector",className:"page-selector"},"Rows per page -",r.a.createElement("input",{key:"page-input",type:"number",min:"1",ref:function(t){return e.pageLengthInput=t},defaultValue:o||5,onChange:this.onPageLengthChange}),"- Showing ",r.a.createElement("b",null,(c-1)*o+1,"- ",c*o>a?a:c*o)," of ",r.a.createElement("b",null,a)," Records")),l=r.a.createElement("button",{key:"prev",className:"btn btn-dark",onClick:this.onPrevPage},"< Previous"),d=r.a.createElement("button",{key:"next",className:"btn btn-dark",onClick:this.onNextPage},"Next >"),u=[];if("short"===this.props.type||this.props.totalRecords/this.props.pageLength>15)u.push(r.a.createElement("input",{key:"currentPageInput",className:"current-page-input",type:"number",max:this.pages,defaultValue:this.state.currentPage,ref:function(t){e.currentPageInput=t},onChange:this.onCurrentPageChange}));else if("long"===this.props.type)for(var p=1;p<=i;p++)u.push(this._getPaginationButtons(p));return r.a.createElement("div",{className:"pagination"},[s,l,u,d])}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.currentPage!==t.currentPage?{currentPage:e.currentPage}:null}}]),a}(n.Component)),g=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._preSearchData=null,n.onDragOver=function(e){e.preventDefault()},n.onDragStart=function(e,t){e.dataTransfer.setData("text/plain",t)},n.onDrop=function(e,t){e.preventDefault();var a=e.dataTransfer.getData("text/plain"),r=Object(u.a)(n.state.headers),o=r[a],c=r[t],i=o.index;o.index=c.index,c.index=i,n.setState({headers:r})},n.renderTableHeader=function(){var e=n.state.headers;return e.sort((function(e,t){return e.index>t.index?1:-1})),e.map((function(e,t){var a=e.title,o=e.accessor,c=e.width;return n.state.sortby===t&&(a+=n.state.descending?"\u2193":"\u2191"),r.a.createElement("th",{key:o,ref:function(e){return n[o]=e},style:{width:c,textAlign:"center"},"data-col":o,onDragStart:function(e){return n.onDragStart(e,t)},onDragOver:n.onDragOver,onDrop:function(e){n.onDrop(e,t)}},r.a.createElement("span",{draggable:!0,"data-col":o,className:"header-cell",style:{width:c,textAlign:"center"}},a))}))},n.renderNoData=function(){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:n.props.headers.length},n.noData))},n.renderContent=function(){var e=n.state,t=e.headers,a=e.data,o=e.pagedData;return(a=n.pagination.enabled?o:a).map((function(e,a){var o=e[n.keyField],c=t.map((function(t,n){var c=e[t.accessor];return r.a.createElement("td",{key:n,"data-id":o,"data-row":a},"trainers"===t.accessor||"attendees"===t.accessor?c.map((function(e){return e+", "})):c,"duration"===t.accessor?" Hours":"")}));return r.a.createElement("tr",{key:a,style:{textAlign:"center"}},c)}))},n.onSort=function(e){var t=n.state.data.slice(),a=c.a.findDOMNode(e.target),r=void 0===a.parentNode.cellIndex?a.cellIndex:a.parentNode.cellIndex,o=e.target.dataset.col,i=!n.state.descending;t.sort((function(e,t){var a=0;return e[o]<t[o]?a=-1:e[o]>t[o]&&(a=1),i&&(a*=-1),a})),n.setState({data:t,pagedData:t,sortby:r,descending:i},(function(){n.pagination.enabled&&n.onGotoPage(1)}))},n.onSearch=function(e){var t=n.state.headers,a=n._preSearchData.filter((function(e){for(var a=!0,r=1;r<t.length;r++){var o=t[r].accessor,c=e[o],i=n["inp"+o];if(""===c)a=!0;else if("list"===t[r].searchType?a=""===i.value||c.toString()===i.value:"input"===t[r].searchType?a=c.toString().toLowerCase().indexOf(i.value.toLowerCase())>-1:"date"===t[r].searchType&&""!==i&&(i=i.toString().split("-")[2]+"-"+i.toString().split("-")[1]+"-"+i.toString().split("-")[0],a=c.toString()===i),!a)break}return a}));n.setState({data:a,pagedData:a,totalRecords:a.length},(function(){n.pagination.enabled&&n.onGotoPage(1)}))},n.onAddTopic=function(e){var t=n.state.headers;e.trainers=e.trainers.toString().split(",").filter((function(e){return!(""===e)})),e.attendees=e.attendees.toString().split(",").filter((function(e){return!(""===e)}));for(var a=1;a<t.length;a++)if(0===e[t[a].accessor].length)return console.log(t[a].accessor,e[t[a].accessor]),void alert("Please Enter All The Fields");e.startDate=e.startDate.toString().split("-")[2]+"-"+e.startDate.toString().split("-")[1]+"-"+e.startDate.toString().split("-")[0],e.endDate=e.endDate.toString().split("-")[2]+"-"+e.endDate.toString().split("-")[1]+"-"+e.endDate.toString().split("-")[0],console.log("Go To DB With:",e),n.onClickAddTopic()},n.createList=function(e,t,a){for(var n=[],r=e;r<=t;r+=a)n.push(r);return n},n.renderSearch=function(){var e=n.state,t=e.search,a=e.headers;if(!t)return null;var o=a.map((function(e,t){var a="inp"+e.accessor,o=e.fixedValue||[];return"input"===e.searchType?r.a.createElement("td",{key:t},r.a.createElement("input",{type:"text",className:"form-control",ref:function(e){return n[a]=e},style:{width:"trainers"===e.accessor||"attendees"===e.accessor?parseInt(e.width.toString().split("px")[0])+30+"px":e.width,textAlign:"center"},"data-idx":t})):"list"===e.searchType?r.a.createElement("td",{key:t},r.a.createElement("select",{ref:function(e){return n[a]=e},className:"btn btn-secondary",style:{width:e.width,height:"80%",textAlign:"center"},defaultValue:"Select"},"duration"===e.accessor?o=n.createList(.5,20,.5):o,r.a.createElement("option",{value:""},"Select"),o.map((function(t){return r.a.createElement("option",{className:"btn btn-light",key:t,value:t},t,"duration"===e.accessor?" Hours":"")})))):"date"===e.searchType?(console.log(n[a],e.accessor),n[a]=void 0===n[a]?"":n[a],r.a.createElement("td",{key:t},r.a.createElement("input",{type:"date",className:"form-control",name:e.accessor,min:"2000-01-01",onChange:function(e){return n[a]=e.target.value},style:{width:"145px",height:"37px",fontSize:"80%"},value:""===n[a]?"":n[a],"data-idx":t}))):r.a.createElement("td",{key:t},r.a.createElement("h4",null,r.a.createElement("b",null,"Enter:")))}));return r.a.createElement("tr",{onChange:n.onSearch,style:{height:"80%",width:"70%"}},o)},n.renderTable=function(){var e=n.renderTableHeader(),t=n.state.data.length>0?n.renderContent():n.renderNoData();return r.a.createElement("table",{className:"data-inner-table"},r.a.createElement("thead",{onClick:n.onSort,className:"thead-dark"},r.a.createElement("tr",null,e)),r.a.createElement("tbody",null,n.renderSearch(),n.renderAddForm(),t))},n.onClickSearch=function(e){n.state.search?(n.setState({data:n._preSearchData,search:!1},(function(){n.onGotoPage(1)})),n._preSearchData=null,n.width="80%"):(n._preSearchData=n.state.data,n.setState({search:!0}))},n.onClickAddTopic=function(){n.setState({addTopic:!n.state.addTopic})},n.renderAddForm=function(){var e=n.state,t=e.addTopic,a=e.headers;if(!t)return null;var o={topicName:"",category:"",duration:"",startDate:"",endDate:"",trainerType:"",trainers:"",attendees:"",teamName:"",remarks:""},c=a.map((function(e,t){var a=e.fixedValue||[];return"input"===e.searchType?r.a.createElement("td",{key:t},r.a.createElement("input",{type:"text",className:"form-control",onChange:function(t){return o[e.accessor]=t.target.value},style:{width:"trainers"===e.accessor||"attendees"===e.accessor?parseInt(e.width.toString().split("px")[0])+30+"px":e.width,textAlign:"center"},"data-idx":t})):"list"===e.searchType?r.a.createElement("td",{key:t},r.a.createElement("select",{defaultValue:"Select",className:"btn btn-secondary",style:{width:e.width,height:"80%",textAlign:"center"},onChange:function(t){o[e.accessor]=t.target.value}},"duration"===e.accessor?a=n.createList(.5,20,.5):a,r.a.createElement("option",{value:""},"Select"),a.map((function(t){return r.a.createElement("option",{className:"btn btn-light",key:t,value:t},t,"duration"===e.accessor?" Hours":"")})))):"date"===e.searchType?r.a.createElement("td",{key:t},r.a.createElement("input",{type:"date",className:"form-control",name:e.accessor,min:"2000-01-01",onChange:function(t){return o[e.accessor]=t.target.value},style:{width:"145px",height:"37px",fontSize:"80%"},"data-idx":t})):r.a.createElement("td",{key:t},r.a.createElement("button",{onClick:function(){return n.onAddTopic(o)},className:"btn btn-success"},"Save"))}));return r.a.createElement("tr",{style:{height:"80%",width:"70%"}},c)},n.onClickCancel=function(){n.state.search?n.onClickSearch():n.state.addTopic&&n.onClickAddTopic()},n.renderToolbar=function(){return r.a.createElement("div",{className:"toolbar"},r.a.createElement("h4",null,n.state.title),n.state.addTopic||n.state.search?r.a.createElement("button",{onClick:n.onClickCancel,className:"btn btn-danger",id:"cancelbtn"},"Cancel"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:n.onClickAddTopic,className:"btn btn-dark",id:"addbtn"},"Add Topic"),r.a.createElement("button",{onClick:n.onClickSearch,className:"btn btn-secondary",id:"searchbtn"},"Search")))},n.getPagedData=function(e,t){var a=(e-1)*t,r=a+t;return n.state.data.slice(a,r)},n.onPageLengthChange=function(e){n.setState({pageLength:parseInt(e,10),currentPage:1},(function(){n.onGotoPage(n.state.currentPage)}))},n.onGotoPage=function(e){var t=n.getPagedData(e,n.state.pageLength);n.setState({pagedData:t,currentPage:e})},n.state={title:e.title||"Data-Table",headers:e.headers,data:e.data,pagedData:e.data,sortby:null,descending:null,search:!1,pageLength:n.props.pagination.pageLength||5,currentPage:1,addTopic:!1},n.keyField=e.keyField||"id",n.noData=e.noData||"No records found!",n.width=e.width||"100%",n.pagination=n.props.pagination||{},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.pagination.enabled&&this.onGotoPage(this.state.currentPage)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className},this.renderToolbar(),this.renderTable(),this.pagination.enabled&&r.a.createElement(p,{type:this.props.pagination.type,totalRecords:this.state.data.length,pageLength:this.state.pageLength,onPageLengthChange:this.onPageLengthChange,onGotoPage:this.onGotoPage,currentPage:this.state.currentPage}))}}]),a}(r.a.Component),h=a(16),m=a.n(h),f=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={headers:[],data:[],ready:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[{title:"Id",accessor:"id",index:0,dataType:"number",width:"50px",searchType:"none"},{title:"Topic",accessor:"topicName",index:1,dataType:"string",width:"100px",searchType:"input"},{title:"Category",accessor:"category",index:2,dataType:"string",width:"90px",searchType:"list",fixedValue:["Technical","Behavioural","Domain Specific","Organizational"]},{title:"Duration",accessor:"duration",index:3,dataType:"number",width:"90px",searchType:"list"},{title:"Start Date",accessor:"startDate",index:4,dataType:"string",width:"100px",searchType:"date"},{title:"End Date",accessor:"endDate",index:5,dataType:"string",width:"100px",searchType:"date"},{title:"Trainer Type",accessor:"trainerType",index:6,dataType:"string",width:"95px",searchType:"list",fixedValue:["External","Internal","Self"]},{title:"Trainers",accessor:"trainers",index:7,dataType:"string",width:"70px",searchType:"input"},{title:"Attendees",accessor:"attendees",index:8,dataType:"string",width:"70px",searchType:"input"},{title:"Team Name",accessor:"teamName",index:9,dataType:"string",width:"95px",searchType:"input"},{title:"Remarks",accessor:"remarks",index:10,dataType:"string",width:"90px",searchType:"list",fixedValue:["Excellent","Very Good","Good","Average","Not That Level"]}];m.a.get("http://localhost:8008/Training/Topic/getTopics").then((function(a){e.setState({headers:t,data:a.data,ready:!0})}),(function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.ready?r.a.createElement("div",null,r.a.createElement(g,{className:"table table-striped",title:"TRAINING MONITORING",keyField:"id",pagination:{enabled:!0,pageLength:5,type:"long"},width:"80%",headers:this.state.headers,data:this.state.data,noData:"No records!"})):r.a.createElement("h2",null,"Loading..")}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(44);c.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.131c4a84.chunk.js.map